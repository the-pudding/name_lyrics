"0","findTopAlbums <- function(url){"
"0","  fullURL <- glue(""https://www.billboard.com{url}"")"
"0","  parsedURL <- read_html(fullURL)"
"0","  columns <- c(""rank"", ""artist"", ""album"")"
"0","  "
"0","  # Finding number 1"
"0","  artist <- parsedURL %>% "
"0","    html_nodes('.chart-number-one__title') %>% "
"0","    html_text() %>% "
"0","    as_tibble()"
"0","  "
"0","  album <- parsedURL %>% "
"0","    html_nodes('.chart-number-one__artist') %>% "
"0","    html_text() %>% "
"0","    as_tibble()"
"0","  "
"0","  one <- cbind(1, album, artist) "
"0","  colnames(one) <- columns"
"0","  "
"0","  rank <- parsedURL %>% "
"0","    html_nodes('.chart-list-item__rank') %>% "
"0","    html_text() %>% "
"0","    as_tibble()"
"0","  "
"0","  album <- parsedURL %>% "
"0","    html_nodes('.chart-list-item__title') %>% "
"0","    html_text() %>% "
"0","    as_tibble()"
"0","  "
"0","  artist <- parsedURL %>% "
"0","    html_nodes('.chart-list-item__artist') %>% "
"0","    html_text() %>% "
"0","    as_tibble()"
"0","  "
"0","  rest <- cbind(rank, artist, album)"
"0","  colnames(rest) <- columns"
"0","  "
"0","  output <- rbind(one, rest) %>% "
"0","    mutate(url = url)"
"0","  "
"0","  fileName = ""billboardHot100.csv"""
"0","	write.table(output, file = here::here(""processed_data"", fileName), row.names = FALSE, append = TRUE, sep = "","", col.names = !file.exists(fileName))"
"0","}"
